---
title: Degrees of Freedom
subtitle: Empower learners with Quarto, WebR, and Pyodide
author: Ted Laderas, PhD
engine: knitr
format: 
    live-revealjs:
        incremental: true
        slide-number: true
        footer: "[https://tinyurl.com/degfree](https://tinyurl.com/degfree)"
resources:
    - data
pyodide:
    packages:
        - pandas
        - seaborn
webr:
    render-df: paged-table
    packages:
      - gradethis
      - readr
      - dplyr
      - ggplot2
      - palmerpenguins
---

{{< include ./_extensions/r-wasm/live/_knitr.qmd >}}
{{< include ./_extensions/r-wasm/live/_gradethis.qmd >}}

```{webr}
#| autorun: true
#| echo: false
library(ggplot2)
library(dplyr)
tv_shows <- read.csv("data/tv_shows.csv")
my_plot <- 
  ggplot(tv_shows) + 
  aes(x = seasonNumber, y= av_rating, group=title, 
      color = title) + 
  geom_line()
```

```{pyodide}
#| autorun: true
#| echo: false
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
tv_shows = pd.read_csv("data/tv_shows.csv")
```

## Helping Learners can be hard

- R Class for workforce training
- RStudio was overwhelming for a learner
- They quit the course

# How could we make the experience better?

## Introducing WebR/Pyodide

::::{.panel-tabset group="language"}

## R
```{webr}
library(readr)
data <- read_csv("data/cereal.csv")
summary(data)
```

## Python
```{pyodide}
import pandas as pd
data = pd.read_csv("data/cereal.csv")
data.info()
```
::::

## WebR/Pyodide can Help

- Lower cognitive load 
- Encourage active learning 
- Increase social learning 

With each step - increase learner autonomy and freedom

# Lower Cognitive Load

## Thoughts in a Learner's Brain 

::::{.columns}
:::{.column}
- What is R actually?
- Variable? What's that?
- Need to finish that report...
- Got to pick up my daughter in an hour
- Am I doing this right?
- RStudio? OMG, I don't get it
:::
:::{.column}

:::{.fragment}
::: {layout="[[-1], [1], [-1]]"}
::: {.larger}

**Cognitive Load**
:::

:::
:::
:::
::::

## What can we help with?

::::{.columns}
:::{.column}
::: {.nonincremental}
- **What is R actually?**
- **Variable? What's that?**
- *Need to finish that report...*
- *Got to pick up my daughter in an hour*
- ~~Am I doing this right?~~
- ~~RStudio? OMG, I don't get it~~
:::
:::
:::{.column}
:::
::::

## Fear is Part of Cognitive Load

> ~~Am I Doing this Right?~~

- Fear of doing something wrong
- Everything we can do to alleviate fear, the less cognitive load learners will have.

## RStudio / Positron Overwhelm {.nonincremental}

![](rstudio.jpg)

## Lower Friction for New Learners

- Imagine you are brand new to working with programming
- Feedback is important 

## Exercise {.smaller}

+ Filter `penguins` so that it only shows penguins from the `island` of `Biscoe` (you'll have to use the `island` variable). Assign it to `biscoe_penguins`.

:::{.fragment}
```{webr}
#| exercise: ex_3
#add your filter statement here
biscoe_penguins <- filter(penguins, island == "________")

#show number of biscoe_penguins
nrow(biscoe_penguins)
```

::: { .solution exercise="ex_3"}
::: { .callout-tip collapse=false}

```{webr}
#| exercise: ex_3
#| solution: true
#add your filter statement here
biscoe_penguins <- filter(penguins, island == "Biscoe")

#show number of biscoe_penguins
nrow(biscoe_penguins)
```
:::
:::

```{webr}
#| exercise: ex_3
#| check: true
gradethis::grade_this_code()
```

:::

::: {.fragment}
::: aside
[01-feedback-example](https://github.com/laderast/degrees_of_freedom/blob/main/01-feedback-example.qmd)
:::
:::

## In-Class Exercise Design Considerations

- [x] Have all information available
- [x] Reduce friction when practicing
- [x] Use [faded exercise design](https://teachtogether.tech/en/#s:architecture-load)
- [x] Use custom grading functions to evaluate codeblocks

## Custom Grading Functions

- Anticipate possible mistakes and answers
- Have a response for each

:::{.fragment}

::::{.panel-tabset group="language"}
## R
```{{webr}}
#| exercise: ex_1_r
#| check: true
if (identical(.result, mean(1:10))) {
  list(correct = TRUE, message = "Nice work!")
} else {
  list(correct = FALSE, message = "That's incorrect, sorry.")
}
```

## Python
```{{pyodide}}
#| exercise: ex_1_py
#| check: true
n = range(1, 11)
mean = sum(n)/len(n)
feedback = None
if (result == mean):
  feedback = { "correct": True, "message": "Nice work!" }
else:
  feedback = { "correct": False, "message": "That's incorrect, sorry." }
feedback
```
::::

:::

::: {.fragment}
::: aside
[01-feedback-example](https://github.com/laderast/degrees_of_freedom/blob/main/01-feedback-example.qmd)
:::
:::

## R-Bootcamp {.nonincremental}

::::{.columns}
:::{.column}
- [R-Bootcamp](https://r-bootcamp.netlify.app)
- [Github Repo](https://github.com/laderast/rbootcamp)
:::
:::{.column}
![](rbootcamp.png)
:::
::::



# Increase Active Learning 

## What is Active Learning?

- Learning by doing
- Activities that cement knowledge by application
    - Meta-learning

## Model Meta-learning

- Learning how to learn
- Help learners explore documentation

## Exercise (R) {.smaller}

- Look at the [documentation for `arrange()`](https://dplyr.tidyverse.org/reference/arrange.html). Take a look at the examples.

- How do we change the below code to sort by descending order?

:::{.fragment}
```{webr}
#| exercise: ex_2
#| setup: true
library(palmerpenguins)
penguins <- penguins[1:6,]
library(dplyr)
```

```{webr}
#| exercise: ex_2
penguins |>
    arrange(body_mass_g)
```

::: {.solution exercise="ex_2"}
#### Solution

Use the `desc()` function.

```{webr}
#| exercise: ex_2
#| solution: true
penguins |>
    arrange(desc(body_mass_g))
```
:::

```{webr}
#| exercise: ex_2
#| check: true
gradethis::grade_this_code()
```

:::

:::{.fragment}
::: aside
[02-metalearning](https://github.com/laderast/degrees_of_freedom/blob/main/02-metalearning.qmd)
:::
:::

## Active Learning

- WebR/Pyodide is excellent at this
- Use as part of lectures for practice

# Increase Social Learning

## What is Social Learning?

- Learning is a cognitive process with social context
- We learn better when we learn together
- Discussion with your neighbor 

## WebR/Pyodide for Social Learning {.incremental}

- Paired programming exercises
- Make your own design decisions
	- Better Tables
- Share packages for demos
    - Data Snacks

## [Better Plots](https://better-plots.netlify.app/) {.incremental}

::::{.columns}
:::{.column}
- Take a Paper Doll approach to improving plots
- Design in in the eye of the beholder
    - Discuss what works for you
- Sharing styling code with each other
:::
:::{.column}
[![](paperdoll.gif)](https://wifflegif.com/gifs/477310-making-mr-right-sneak-peek-gif)
:::
::::

## Better Plots {.smaller}

Experiment with adding or removing to the graph, adding your own annotations.

If there's a show that you want to highlight, try adding an annotation to highlight it. Or try adding an annotation at Roseanne's lowest rating!

::::{.panel-tabset group="language"}
## R

```{webr}
my_plot + 
    labs(title = "Is it better to burn out than fade away?",
         x="Season Number", y="Average Rating") + 
  geom_vline(xintercept = 5, lty=3) +
 # annotate(geom="text", x = 7, y=8.5, 
 #         label = "The Walking\n Dead (brainzzz)") +
  scale_x_continuous(breaks = c(1:10))
```

## Python

```{pyodide}
my_plot = sns.lineplot(data=tv_shows,
                 x="seasonNumber",
                 y="av_rating",
                 hue="title")

#my_plot.set_title("Is it better to burn out than fade away?", fontsize=20)
#my_plot.set_xlabel ("Season Number", fontsize=15)
#my_plot.set_ylabel ("Average Rating", fontsize=15)
#my_plot.set_xticks(range(1,11))
#plt.axhline(y=7.8, linestyle="--")
#plt.text(x=7, y=8.5, s="The Walking\n Dead (brainzzz)")
plt.show()
```
::::

:::{.fragment}
::: aside
[03-social-learning](https://github.com/laderast/degrees_of_freedom/blob/main/03-social-learning.qmd)
:::
:::

## [Data Snacks](https://hutchdatascience.org/data_snacks/)

![](datasnack.jpg)

## What's Next?

WebR/Pyodide is part of a technology spectrum

- [x] Follow up with session on RStudio / Positron / VSCode
- [x] Have them work in Quarto on Posit.cloud
- [x] Use WebR/Pyodide for in-class exercises

## Note: Summative Assessment

- Using WebR/Pyodide for summative assessment is difficult
	- Technically difficult 
		- client side / source code is available in console
	- Come talk to George if you want to do this

## Conclusion

WebR/Pyodide is a powerful technology that can help you to:

- Reduce Cognitive Load
- Increase Active Learning
- Increase Social Learning

As you give students more freedom, they become stronger learners

## Resources / Thanks! {.nonincremental}
::::{.columns}
:::{.column}
- George Stagg for all his work on WebR/Quarto Live and for tips
- [tladera2 @ fredhutch.org](mailto:tladera2@fredhutch.org)
- [Data Science Lab](https://hutchdatascience.org)
:::
:::{.column}
- [Ted's Website](https://laderast.github.io)
- [This Talk](https://github.com/laderast/degrees_of_freedom)
- [RBootcamp](https://r-bootcamp.netlify.app)
- [Data Snacks](https://hutchdatascience.org/data_snacks/)
:::
::::