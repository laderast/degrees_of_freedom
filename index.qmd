---
title: Degrees of Freedom
subtitle: Empower learners with Quarto, WebR, and Pyodide
author: Ted Laderas, PhD
engine: knitr
format: 
    live-revealjs:
        incremental: true
resources:
    - data
pyodide:
    packages:
        - pandas
        - seaborn
webr:
    render-df: paged-table
    packages:
      - gradethis
      - readr
      - dplyr
      - ggplot2
      - palmerpenguins
---

{{< include ./_extensions/r-wasm/live/_knitr.qmd >}}
{{< include ./_extensions/r-wasm/live/_gradethis.qmd >}}

```{webr}
#| autorun: true
#| echo: false
library(ggplot2)
library(dplyr)
tv_shows <- read.csv("data/tv_shows.csv")
my_plot <- 
  ggplot(tv_shows) + 
  aes(x = seasonNumber, y= av_rating, group=title, 
      color = title) + 
  geom_line()

library(fivethirtyeight)
data(biopics)
biopics$country <- factor(biopics$country)
library(knitr)
```

```{pyodide}
#| autorun: true
#| echo: false
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
tv_shows = pd.read_csv("data/tv_shows.csv")
```


## First Things First

- Do you want to increase active learning in your data science courses?
    - Less blank stares?
    - More discussion? 
    - More interaction?



## Introducing WebR/Pyodide

::::{.panel-tabset group="language"}

## R
```{webr}
library(readr)
data <- read_csv("data/cereal.csv")
summary(data)
```
## Python
```{pyodide}
import pandas as pd
data = pd.read_csv("data/cereal.csv")
data.info()
```
::::

## WebR/Pyodide can Help

- Lower cognitive load 
- Encourage active learning 
- Increase social learning 

# Lower Cognitive Load

## Thoughts in a Learner's Brain {.auto-animate}

- What is R actually?
- Variable? What's that?
- Need to finish that report...
- Got to pick up my daughter in an hour
- Am I doing this right?
- RStudio? OMG, I don't get it

## What can we help with?

::: {.nonincremental}
- **What is R actually?**
- **Variable? What's that?**
- *Need to finish that report...*
- *Got to pick up my daughter in an hour*
- ~~Am I doing this right?~~
- ~~RStudio? OMG, I don't get it~~
:::

## Fear is Part of Cognitive Load

> ~~Am I Doing this Right?~~

- Fear of doing something wrong
- Everything we can do to alleviate fear, the less cognitive load learners will have.

## RStudio / Positron Overwhelm {.nonincremental}

![](rstudio.jpg)

## Lower Friction for New Learners

- Imagine you are brand new to working with programming
- Feedback is important

## Exercise {.smaller}

+ Filter `biopics` so that it only shows `Criminal` movies (you'll have to use the `type_of_subject` variable in `biopics`. 

```{webr}
#| exercise: ex_3
#add your filter statement here
crimeMovies <- filter(biopics, type_of_subject == "_______")

#show number of crime movies
nrow(crimeMovies)
```

::: { .solution exercise="ex_3"}
::: { .callout-tip collapse=false}

```{webr}
#| exercise: ex_3
#| solution: true
#add your filter statement here
crimeMovies <- filter(biopics, type_of_subject == "Criminal")

#show number of crime movies
nrow(crimeMovies)
```
:::
:::

```{webr}
#| exercise: ex_3
#| check: true
gradethis::grade_this_code()
```

## What's Next?

- [x] Follow up with session on RStudio / Positron / VSCode
- [x] Have them work in Quarto on Posit.cloud
- [x] Use WebR/Pyodide for in-class exercises

# Increase Active Learning 

## What is Active Learning?

- Learning by doing
- Activities that cement knowledge by application

## Supporting Active Learning

- Metalearning

## Model Meta-learning

- Learning how to learn
- Help learners explore documentation

## Exercise (R) {.smaller}

Look at the [documentation for `arrange()`](https://dplyr.tidyverse.org/reference/arrange.html). Take a look at the examples.

How do we change the below code to sort by descending order?

```{webr}
#| exercise: ex_2
#| setup: true
library(palmerpenguins)
penguins <- penguins[1:6,]
library(dplyr)
```

```{webr}
#| exercise: ex_2
penguins |>
    arrange(body_mass_g)
```

::: {.solution exercise="ex_2"}
#### Solution

Use the `desc()` function.

```{webr}
#| exercise: ex_2
#| solution: true
penguins |>
    arrange(desc(body_mass_g))
```
:::

```{webr}
#| exercise: ex_2
#| check: true
gradethis::grade_this_code()
```

# Increase Social Learning

## What is Social Learning?

- Learning is a cognitive process with social context
- We learn better when we learn together
- Discussion with your neighbor 

## WebR/Pyodide for Social Learning {.incremental}

- Make your own design decisions
	- Better Tables
- Share packages for demos
    - Data Snacks

## [Better Plots](https://better-plots.netlify.app/) {.incremental}

::::{.columns}
:::{.column}
- Workshop about design principles for plots in R and Python
- Take a Paper Doll approach to improving plots
- Design in in the eye of the beholder
    - Discuss what works for you
- Sharing styling code with each other
:::
:::{.column}
:::{.fragment}
![https://wifflegif.com/gifs/477310-making-mr-right-sneak-peek-gif](paperdoll.webp)
:::
:::
::::

## Better Plots {.smaller}

Experiment with adding or removing to the graph, adding your own annotations.

If there's a show that you want to highlight, try adding an annotation to highlight it. Or try adding an annotation at Roseanne's lowest rating!

::::{.panel-tabset group="language"}
## R

```{webr}
my_plot + 
    labs(title = "Is it better to burn out than fade away?",
         x="Season Number", y="Average Rating") + 
  geom_vline(xintercept = 5, lty=3) +
 # annotate(geom="text", x = 7, y=8.5, 
 #         label = "The Walking\n Dead (brainzzz)") +
  scale_x_continuous(breaks = c(1:10))
```

## Python

```{pyodide}
my_plot = sns.lineplot(data=tv_shows,
                 x="seasonNumber",
                 y="av_rating",
                 hue="title")

#my_plot.set_title("Is it better to burn out than fade away?", fontsize=20)
#my_plot.set_xlabel ("Season Number", fontsize=15)
#my_plot.set_ylabel ("Average Rating", fontsize=15)
#my_plot.set_xticks(range(1,11))
#plt.axhline(y=7.8, linestyle="--")
#plt.text(x=7, y=8.5, s="The Walking\n Dead (brainzzz)")
plt.show()
```
::::


## [Data Snacks](https://hutchdatascience.org/data_snacks/)

![](datasnack.jpg)

## Note: Summative Assessment

- Using WebR/Pyodide for summative assessment is difficult
	- Technically difficult 
		- client side / source code is available in console
	- Come talk to George if you want to do this


## Conclusion

WebR/Pyodide is a powerful technology that can help you to:

- Reduce Cognitive Load
- Increase Active Learning
- Increase Social Learning

## Resources / Thanks!

- George Stagg for all his work on WebR/Quarto Live and for the chat

- [This Talk](https://github.com/laderast/degress_of_freedom)
- [RBootcamp](https://r-bootcamp.netlify.app)
- [Data Snacks](https://hutchdatascience.org/data_snacks/)

## Miscellaneous

- Observable integration (have to know JS)
- Hook up WebR / Pyodide to Observable
		- Modern version of `crosstalk` - sliders and boxes
		- Reactive experience

